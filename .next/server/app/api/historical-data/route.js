"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/historical-data/route";
exports.ids = ["app/api/historical-data/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistorical-data%2Froute&page=%2Fapi%2Fhistorical-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistorical-data%2Froute.js&appDir=%2FUsers%2Fjfm4air%2FDesktop%2Fmy-timer%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjfm4air%2FDesktop%2Fmy-timer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistorical-data%2Froute&page=%2Fapi%2Fhistorical-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistorical-data%2Froute.js&appDir=%2FUsers%2Fjfm4air%2FDesktop%2Fmy-timer%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjfm4air%2FDesktop%2Fmy-timer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_jfm4air_Desktop_my_timer_app_api_historical_data_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/historical-data/route.js */ \"(rsc)/./app/api/historical-data/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/historical-data/route\",\n        pathname: \"/api/historical-data\",\n        filename: \"route\",\n        bundlePath: \"app/api/historical-data/route\"\n    },\n    resolvedPagePath: \"/Users/jfm4air/Desktop/my-timer/app/api/historical-data/route.js\",\n    nextConfigOutput,\n    userland: _Users_jfm4air_Desktop_my_timer_app_api_historical_data_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/historical-data/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZoaXN0b3JpY2FsLWRhdGElMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmhpc3RvcmljYWwtZGF0YSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmhpc3RvcmljYWwtZGF0YSUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRmpmbTRhaXIlMkZEZXNrdG9wJTJGbXktdGltZXIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGamZtNGFpciUyRkRlc2t0b3AlMkZteS10aW1lciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZ0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1yZWFjdC10aW1lci8/NTUzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvamZtNGFpci9EZXNrdG9wL215LXRpbWVyL2FwcC9hcGkvaGlzdG9yaWNhbC1kYXRhL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9oaXN0b3JpY2FsLWRhdGEvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9oaXN0b3JpY2FsLWRhdGFcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2hpc3RvcmljYWwtZGF0YS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9qZm00YWlyL0Rlc2t0b3AvbXktdGltZXIvYXBwL2FwaS9oaXN0b3JpY2FsLWRhdGEvcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2hpc3RvcmljYWwtZGF0YS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistorical-data%2Froute&page=%2Fapi%2Fhistorical-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistorical-data%2Froute.js&appDir=%2FUsers%2Fjfm4air%2FDesktop%2Fmy-timer%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjfm4air%2FDesktop%2Fmy-timer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/historical-data/route.js":
/*!******************************************!*\
  !*** ./app/api/historical-data/route.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(rsc)/./node_modules/date-fns/format.js\");\n\n\nconst ALPHA_VANTAGE_API_KEY = process.env.ALPHA_VANTAGE_API_KEY;\nconst COINGECKO_API_KEY = process.env.COINGECKO_API_KEY;\nlet coinListCache = null;\nlet coinListCacheTimestamp = 0;\nconst COIN_GECKO_ID_OVERRIDES = {\n    BTC: \"bitcoin\",\n    ETH: \"ethereum\",\n    BNB: \"binancecoin\"\n};\nasync function getCoinGeckoId(ticker) {\n    const override = COIN_GECKO_ID_OVERRIDES[ticker.toUpperCase()];\n    if (override) return override;\n    const now = Date.now();\n    const apiKeyParam = COINGECKO_API_KEY ? `&x_cg_demo_api_key=${COINGECKO_API_KEY}` : \"\";\n    if (!coinListCache || now - coinListCacheTimestamp > 3600 * 1000) {\n        try {\n            const response = await fetch(`https://api.coingecko.com/api/v3/coins/list?${apiKeyParam}`);\n            if (!response.ok) throw new Error(\"Failed to fetch coin list from CoinGecko\");\n            coinListCache = await response.json();\n            coinListCacheTimestamp = now;\n        } catch (error) {\n            console.error(error);\n            return null;\n        }\n    }\n    if (!coinListCache) return null;\n    const coin = coinListCache.find((c)=>c.symbol.toLowerCase() === ticker.toLowerCase());\n    return coin ? coin.id : null;\n}\nasync function getUsStockHistoricalData(ticker) {\n    if (!ALPHA_VANTAGE_API_KEY || ALPHA_VANTAGE_API_KEY === \"YOUR_API_KEY_HERE\") {\n        throw new Error(\"Alpha Vantage API key is not set.\");\n    }\n    const url = `https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${ticker}&outputsize=compact&apikey=${ALPHA_VANTAGE_API_KEY}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    if (data[\"Error Message\"]) {\n        throw new Error(`Alpha Vantage error: ${data[\"Error Message\"]}`);\n    }\n    if (data[\"Note\"]) {\n        throw new Error(`Alpha Vantage limit reached: ${data[\"Note\"]}`);\n    }\n    if (data[\"Information\"]) {\n        throw new Error(`Alpha Vantage info: ${data[\"Information\"]}`);\n    }\n    const timeSeries = data[\"Time Series (Daily)\"];\n    if (!timeSeries) {\n        throw new Error(`Could not find historical data for stock ticker: ${ticker}`);\n    }\n    const formattedData = {};\n    for(const date in timeSeries){\n        formattedData[date] = parseFloat(timeSeries[date][\"4. close\"]);\n    }\n    return formattedData;\n}\nasync function fetchYahooHistoricalData(symbol) {\n    const url = `https://query1.finance.yahoo.com/v8/finance/chart/${symbol}?interval=1d&range=1y`;\n    const response = await fetch(url);\n    if (!response.ok) {\n        return {};\n    }\n    const data = await response.json();\n    const result = data?.chart?.result?.[0];\n    if (!result || !result.timestamp || !result.indicators?.quote?.[0]?.close) {\n        return {};\n    }\n    const closes = result.indicators.quote[0].close;\n    const formattedData = {};\n    result.timestamp.forEach((ts, idx)=>{\n        const price = closes[idx];\n        if (price == null) return;\n        const date = new Date(ts * 1000).toISOString().split(\"T\")[0];\n        formattedData[date] = price;\n    });\n    return formattedData;\n}\nasync function getTaiwanStockHistoricalData(ticker) {\n    const baseSymbol = ticker.includes(\".\") ? ticker : `${ticker}.TW`;\n    const formattedData = await fetchYahooHistoricalData(baseSymbol);\n    if (Object.keys(formattedData).length > 0) {\n        return formattedData;\n    }\n    if (!ticker.includes(\".\")) {\n        const otcData = await fetchYahooHistoricalData(`${ticker}.TWO`);\n        if (Object.keys(otcData).length > 0) {\n            return otcData;\n        }\n    }\n    throw new Error(`Could not find historical data for Taiwan stock ticker: ${ticker}`);\n}\nasync function getCryptoHistoricalData(ticker) {\n    const coinId = await getCoinGeckoId(ticker);\n    if (!coinId) {\n        throw new Error(`Could not find a CoinGecko ID for cryptocurrency ticker: ${ticker}`);\n    }\n    const apiKeyParam = COINGECKO_API_KEY ? `&x_cg_demo_api_key=${COINGECKO_API_KEY}` : \"\";\n    const url = `https://api.coingecko.com/api/v3/coins/${coinId}/market_chart?vs_currency=usd&days=365&interval=daily${apiKeyParam}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    if (!data.prices) {\n        const errorDetails = data.status ? ` (status: ${data.status.error_code}, message: ${data.status.error_message})` : \"\";\n        throw new Error(`Could not find historical data for crypto ticker: ${ticker}${errorDetails}`);\n    }\n    const formattedData = {};\n    for (const [timestamp, price] of data.prices){\n        const date = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(new Date(timestamp), \"yyyy-MM-dd\");\n        formattedData[date] = price;\n    }\n    return formattedData;\n}\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const ticker = searchParams.get(\"ticker\");\n    const type = searchParams.get(\"type\");\n    if (!ticker || !type) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Ticker and type are required\"\n        }, {\n            status: 400\n        });\n    }\n    try {\n        let data;\n        if (type === \"stock\") {\n            data = await getUsStockHistoricalData(ticker);\n        } else if (type === \"us_stock\") {\n            data = await getUsStockHistoricalData(ticker);\n        } else if (type === \"tw_stock\") {\n            data = await getTaiwanStockHistoricalData(ticker);\n        } else if (type === \"crypto\") {\n            data = await getCryptoHistoricalData(ticker);\n        } else {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid asset type\"\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error(`Failed to fetch historical data for ${ticker}:`, error.message);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch historical data\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2hpc3RvcmljYWwtZGF0YS9yb3V0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDVDtBQUVsQyxNQUFNRSx3QkFBd0JDLFFBQVFDLEdBQUcsQ0FBQ0YscUJBQXFCO0FBQy9ELE1BQU1HLG9CQUFvQkYsUUFBUUMsR0FBRyxDQUFDQyxpQkFBaUI7QUFFdkQsSUFBSUMsZ0JBQWdCO0FBQ3BCLElBQUlDLHlCQUF5QjtBQUM3QixNQUFNQywwQkFBMEI7SUFDOUJDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0FBQ1A7QUFFQSxlQUFlQyxlQUFlQyxNQUFNO0lBQ2xDLE1BQU1DLFdBQVdOLHVCQUF1QixDQUFDSyxPQUFPRSxXQUFXLEdBQUc7SUFDOUQsSUFBSUQsVUFBVSxPQUFPQTtJQUVyQixNQUFNRSxNQUFNQyxLQUFLRCxHQUFHO0lBQ3BCLE1BQU1FLGNBQWNiLG9CQUFvQixDQUFDLG1CQUFtQixFQUFFQSxrQkFBa0IsQ0FBQyxHQUFHO0lBQ3BGLElBQUksQ0FBQ0MsaUJBQWlCVSxNQUFNVCx5QkFBeUIsT0FBTyxNQUFNO1FBQ2hFLElBQUk7WUFDRixNQUFNWSxXQUFXLE1BQU1DLE1BQU0sQ0FBQyw0Q0FBNEMsRUFBRUYsWUFBWSxDQUFDO1lBQ3pGLElBQUksQ0FBQ0MsU0FBU0UsRUFBRSxFQUFFLE1BQU0sSUFBSUMsTUFBTTtZQUNsQ2hCLGdCQUFnQixNQUFNYSxTQUFTSSxJQUFJO1lBQ25DaEIseUJBQXlCUztRQUMzQixFQUFFLE9BQU9RLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDQTtZQUNkLE9BQU87UUFDVDtJQUNGO0lBRUEsSUFBSSxDQUFDbEIsZUFBZSxPQUFPO0lBRTNCLE1BQU1vQixPQUFPcEIsY0FBY3FCLElBQUksQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxNQUFNLENBQUNDLFdBQVcsT0FBT2pCLE9BQU9pQixXQUFXO0lBQ3BGLE9BQU9KLE9BQU9BLEtBQUtLLEVBQUUsR0FBRztBQUMxQjtBQUVBLGVBQWVDLHlCQUF5Qm5CLE1BQU07SUFDNUMsSUFBSSxDQUFDWCx5QkFBeUJBLDBCQUEwQixxQkFBcUI7UUFDM0UsTUFBTSxJQUFJb0IsTUFBTTtJQUNsQjtJQUNBLE1BQU1XLE1BQU0sQ0FBQyxvRUFBb0UsRUFBRXBCLE9BQU8sMkJBQTJCLEVBQUVYLHNCQUFzQixDQUFDO0lBQzlJLE1BQU1pQixXQUFXLE1BQU1DLE1BQU1hO0lBQzdCLE1BQU1DLE9BQU8sTUFBTWYsU0FBU0ksSUFBSTtJQUVoQyxJQUFJVyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7UUFDekIsTUFBTSxJQUFJWixNQUFNLENBQUMscUJBQXFCLEVBQUVZLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2pFO0lBQ0EsSUFBSUEsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUNoQixNQUFNLElBQUlaLE1BQU0sQ0FBQyw2QkFBNkIsRUFBRVksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2hFO0lBQ0EsSUFBSUEsSUFBSSxDQUFDLGNBQWMsRUFBRTtRQUN2QixNQUFNLElBQUlaLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRVksSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzlEO0lBRUEsTUFBTUMsYUFBYUQsSUFBSSxDQUFDLHNCQUFzQjtJQUM5QyxJQUFJLENBQUNDLFlBQVk7UUFDZixNQUFNLElBQUliLE1BQU0sQ0FBQyxpREFBaUQsRUFBRVQsT0FBTyxDQUFDO0lBQzlFO0lBRUEsTUFBTXVCLGdCQUFnQixDQUFDO0lBQ3ZCLElBQUssTUFBTUMsUUFBUUYsV0FBWTtRQUM3QkMsYUFBYSxDQUFDQyxLQUFLLEdBQUdDLFdBQVdILFVBQVUsQ0FBQ0UsS0FBSyxDQUFDLFdBQVc7SUFDL0Q7SUFDQSxPQUFPRDtBQUNUO0FBRUEsZUFBZUcseUJBQXlCVixNQUFNO0lBQzVDLE1BQU1JLE1BQU0sQ0FBQyxrREFBa0QsRUFBRUosT0FBTyxxQkFBcUIsQ0FBQztJQUM5RixNQUFNVixXQUFXLE1BQU1DLE1BQU1hO0lBQzdCLElBQUksQ0FBQ2QsU0FBU0UsRUFBRSxFQUFFO1FBQ2hCLE9BQU8sQ0FBQztJQUNWO0lBQ0EsTUFBTWEsT0FBTyxNQUFNZixTQUFTSSxJQUFJO0lBQ2hDLE1BQU1pQixTQUFTTixNQUFNTyxPQUFPRCxRQUFRLENBQUMsRUFBRTtJQUN2QyxJQUFJLENBQUNBLFVBQVUsQ0FBQ0EsT0FBT0UsU0FBUyxJQUFJLENBQUNGLE9BQU9HLFVBQVUsRUFBRUMsT0FBTyxDQUFDLEVBQUUsRUFBRUMsT0FBTztRQUN6RSxPQUFPLENBQUM7SUFDVjtJQUVBLE1BQU1DLFNBQVNOLE9BQU9HLFVBQVUsQ0FBQ0MsS0FBSyxDQUFDLEVBQUUsQ0FBQ0MsS0FBSztJQUMvQyxNQUFNVCxnQkFBZ0IsQ0FBQztJQUN2QkksT0FBT0UsU0FBUyxDQUFDSyxPQUFPLENBQUMsQ0FBQ0MsSUFBSUM7UUFDNUIsTUFBTUMsUUFBUUosTUFBTSxDQUFDRyxJQUFJO1FBQ3pCLElBQUlDLFNBQVMsTUFBTTtRQUNuQixNQUFNYixPQUFPLElBQUlwQixLQUFLK0IsS0FBSyxNQUFNRyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM1RGhCLGFBQWEsQ0FBQ0MsS0FBSyxHQUFHYTtJQUN4QjtJQUNBLE9BQU9kO0FBQ1Q7QUFFQSxlQUFlaUIsNkJBQTZCeEMsTUFBTTtJQUNoRCxNQUFNeUMsYUFBYXpDLE9BQU8wQyxRQUFRLENBQUMsT0FBTzFDLFNBQVMsQ0FBQyxFQUFFQSxPQUFPLEdBQUcsQ0FBQztJQUNqRSxNQUFNdUIsZ0JBQWdCLE1BQU1HLHlCQUF5QmU7SUFDckQsSUFBSUUsT0FBT0MsSUFBSSxDQUFDckIsZUFBZXNCLE1BQU0sR0FBRyxHQUFHO1FBQ3pDLE9BQU90QjtJQUNUO0lBQ0EsSUFBSSxDQUFDdkIsT0FBTzBDLFFBQVEsQ0FBQyxNQUFNO1FBQ3pCLE1BQU1JLFVBQVUsTUFBTXBCLHlCQUF5QixDQUFDLEVBQUUxQixPQUFPLElBQUksQ0FBQztRQUM5RCxJQUFJMkMsT0FBT0MsSUFBSSxDQUFDRSxTQUFTRCxNQUFNLEdBQUcsR0FBRztZQUNuQyxPQUFPQztRQUNUO0lBQ0Y7SUFDQSxNQUFNLElBQUlyQyxNQUFNLENBQUMsd0RBQXdELEVBQUVULE9BQU8sQ0FBQztBQUNyRjtBQUVBLGVBQWUrQyx3QkFBd0IvQyxNQUFNO0lBQzNDLE1BQU1nRCxTQUFTLE1BQU1qRCxlQUFlQztJQUNwQyxJQUFJLENBQUNnRCxRQUFRO1FBQ1gsTUFBTSxJQUFJdkMsTUFBTSxDQUFDLHlEQUF5RCxFQUFFVCxPQUFPLENBQUM7SUFDdEY7SUFFQSxNQUFNSyxjQUFjYixvQkFBb0IsQ0FBQyxtQkFBbUIsRUFBRUEsa0JBQWtCLENBQUMsR0FBRztJQUNwRixNQUFNNEIsTUFBTSxDQUFDLHVDQUF1QyxFQUFFNEIsT0FBTyxxREFBcUQsRUFBRTNDLFlBQVksQ0FBQztJQUNqSSxNQUFNQyxXQUFXLE1BQU1DLE1BQU1hO0lBQzdCLE1BQU1DLE9BQU8sTUFBTWYsU0FBU0ksSUFBSTtJQUVoQyxJQUFJLENBQUNXLEtBQUs0QixNQUFNLEVBQUU7UUFDaEIsTUFBTUMsZUFBZTdCLEtBQUs4QixNQUFNLEdBQzVCLENBQUMsVUFBVSxFQUFFOUIsS0FBSzhCLE1BQU0sQ0FBQ0MsVUFBVSxDQUFDLFdBQVcsRUFBRS9CLEtBQUs4QixNQUFNLENBQUNFLGFBQWEsQ0FBQyxDQUFDLENBQUMsR0FDN0U7UUFDSixNQUFNLElBQUk1QyxNQUFNLENBQUMsa0RBQWtELEVBQUVULE9BQU8sRUFBRWtELGFBQWEsQ0FBQztJQUM5RjtJQUVBLE1BQU0zQixnQkFBZ0IsQ0FBQztJQUN2QixLQUFLLE1BQU0sQ0FBQ00sV0FBV1EsTUFBTSxJQUFJaEIsS0FBSzRCLE1BQU0sQ0FBRTtRQUM1QyxNQUFNekIsT0FBT3BDLDhFQUFNQSxDQUFDLElBQUlnQixLQUFLeUIsWUFBWTtRQUN6Q04sYUFBYSxDQUFDQyxLQUFLLEdBQUdhO0lBQ3hCO0lBQ0EsT0FBT2Q7QUFDVDtBQUVPLGVBQWUrQixJQUFJQyxPQUFPO0lBQy9CLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUYsUUFBUW5DLEdBQUc7SUFDNUMsTUFBTXBCLFNBQVN3RCxhQUFhRSxHQUFHLENBQUM7SUFDaEMsTUFBTUMsT0FBT0gsYUFBYUUsR0FBRyxDQUFDO0lBRTlCLElBQUksQ0FBQzFELFVBQVUsQ0FBQzJELE1BQU07UUFDcEIsT0FBT3hFLHFEQUFZQSxDQUFDdUIsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBK0IsR0FBRztZQUFFd0MsUUFBUTtRQUFJO0lBQ3BGO0lBRUEsSUFBSTtRQUNGLElBQUk5QjtRQUNKLElBQUlzQyxTQUFTLFNBQVM7WUFDcEJ0QyxPQUFPLE1BQU1GLHlCQUF5Qm5CO1FBQ3hDLE9BQU8sSUFBSTJELFNBQVMsWUFBWTtZQUM5QnRDLE9BQU8sTUFBTUYseUJBQXlCbkI7UUFDeEMsT0FBTyxJQUFJMkQsU0FBUyxZQUFZO1lBQzlCdEMsT0FBTyxNQUFNbUIsNkJBQTZCeEM7UUFDNUMsT0FBTyxJQUFJMkQsU0FBUyxVQUFVO1lBQzVCdEMsT0FBTyxNQUFNMEIsd0JBQXdCL0M7UUFDdkMsT0FBTztZQUNMLE9BQU9iLHFEQUFZQSxDQUFDdUIsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXFCLEdBQUc7Z0JBQUV3QyxRQUFRO1lBQUk7UUFDMUU7UUFDQSxPQUFPaEUscURBQVlBLENBQUN1QixJQUFJLENBQUNXO0lBQzNCLEVBQUUsT0FBT1YsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRVgsT0FBTyxDQUFDLENBQUMsRUFBRVcsTUFBTWlELE9BQU87UUFDN0UsT0FBT3pFLHFEQUFZQSxDQUFDdUIsSUFBSSxDQUFDO1lBQUVDLE9BQU87WUFBbUNrRCxTQUFTbEQsTUFBTWlELE9BQU87UUFBQyxHQUFHO1lBQUVULFFBQVE7UUFBSTtJQUMvRztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktcmVhY3QtdGltZXIvLi9hcHAvYXBpL2hpc3RvcmljYWwtZGF0YS9yb3V0ZS5qcz9mMWE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSBcImRhdGUtZm5zXCI7XG5cbmNvbnN0IEFMUEhBX1ZBTlRBR0VfQVBJX0tFWSA9IHByb2Nlc3MuZW52LkFMUEhBX1ZBTlRBR0VfQVBJX0tFWTtcbmNvbnN0IENPSU5HRUNLT19BUElfS0VZID0gcHJvY2Vzcy5lbnYuQ09JTkdFQ0tPX0FQSV9LRVk7XG5cbmxldCBjb2luTGlzdENhY2hlID0gbnVsbDtcbmxldCBjb2luTGlzdENhY2hlVGltZXN0YW1wID0gMDtcbmNvbnN0IENPSU5fR0VDS09fSURfT1ZFUlJJREVTID0ge1xuICBCVEM6IFwiYml0Y29pblwiLFxuICBFVEg6IFwiZXRoZXJldW1cIixcbiAgQk5COiBcImJpbmFuY2Vjb2luXCIsXG59O1xuXG5hc3luYyBmdW5jdGlvbiBnZXRDb2luR2Vja29JZCh0aWNrZXIpIHtcbiAgY29uc3Qgb3ZlcnJpZGUgPSBDT0lOX0dFQ0tPX0lEX09WRVJSSURFU1t0aWNrZXIudG9VcHBlckNhc2UoKV07XG4gIGlmIChvdmVycmlkZSkgcmV0dXJuIG92ZXJyaWRlO1xuXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IGFwaUtleVBhcmFtID0gQ09JTkdFQ0tPX0FQSV9LRVkgPyBgJnhfY2dfZGVtb19hcGlfa2V5PSR7Q09JTkdFQ0tPX0FQSV9LRVl9YCA6IFwiXCI7XG4gIGlmICghY29pbkxpc3RDYWNoZSB8fCBub3cgLSBjb2luTGlzdENhY2hlVGltZXN0YW1wID4gMzYwMCAqIDEwMDApIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuY29pbmdlY2tvLmNvbS9hcGkvdjMvY29pbnMvbGlzdD8ke2FwaUtleVBhcmFtfWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGNvaW4gbGlzdCBmcm9tIENvaW5HZWNrb1wiKTtcbiAgICAgIGNvaW5MaXN0Q2FjaGUgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb2luTGlzdENhY2hlVGltZXN0YW1wID0gbm93O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29pbkxpc3RDYWNoZSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgY29pbiA9IGNvaW5MaXN0Q2FjaGUuZmluZCgoYykgPT4gYy5zeW1ib2wudG9Mb3dlckNhc2UoKSA9PT0gdGlja2VyLnRvTG93ZXJDYXNlKCkpO1xuICByZXR1cm4gY29pbiA/IGNvaW4uaWQgOiBudWxsO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRVc1N0b2NrSGlzdG9yaWNhbERhdGEodGlja2VyKSB7XG4gIGlmICghQUxQSEFfVkFOVEFHRV9BUElfS0VZIHx8IEFMUEhBX1ZBTlRBR0VfQVBJX0tFWSA9PT0gXCJZT1VSX0FQSV9LRVlfSEVSRVwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQWxwaGEgVmFudGFnZSBBUEkga2V5IGlzIG5vdCBzZXQuXCIpO1xuICB9XG4gIGNvbnN0IHVybCA9IGBodHRwczovL3d3dy5hbHBoYXZhbnRhZ2UuY28vcXVlcnk/ZnVuY3Rpb249VElNRV9TRVJJRVNfREFJTFkmc3ltYm9sPSR7dGlja2VyfSZvdXRwdXRzaXplPWNvbXBhY3QmYXBpa2V5PSR7QUxQSEFfVkFOVEFHRV9BUElfS0VZfWA7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICBpZiAoZGF0YVtcIkVycm9yIE1lc3NhZ2VcIl0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFscGhhIFZhbnRhZ2UgZXJyb3I6ICR7ZGF0YVtcIkVycm9yIE1lc3NhZ2VcIl19YCk7XG4gIH1cbiAgaWYgKGRhdGFbXCJOb3RlXCJdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBBbHBoYSBWYW50YWdlIGxpbWl0IHJlYWNoZWQ6ICR7ZGF0YVtcIk5vdGVcIl19YCk7XG4gIH1cbiAgaWYgKGRhdGFbXCJJbmZvcm1hdGlvblwiXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQWxwaGEgVmFudGFnZSBpbmZvOiAke2RhdGFbXCJJbmZvcm1hdGlvblwiXX1gKTtcbiAgfVxuXG4gIGNvbnN0IHRpbWVTZXJpZXMgPSBkYXRhW1wiVGltZSBTZXJpZXMgKERhaWx5KVwiXTtcbiAgaWYgKCF0aW1lU2VyaWVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBoaXN0b3JpY2FsIGRhdGEgZm9yIHN0b2NrIHRpY2tlcjogJHt0aWNrZXJ9YCk7XG4gIH1cblxuICBjb25zdCBmb3JtYXR0ZWREYXRhID0ge307XG4gIGZvciAoY29uc3QgZGF0ZSBpbiB0aW1lU2VyaWVzKSB7XG4gICAgZm9ybWF0dGVkRGF0YVtkYXRlXSA9IHBhcnNlRmxvYXQodGltZVNlcmllc1tkYXRlXVtcIjQuIGNsb3NlXCJdKTtcbiAgfVxuICByZXR1cm4gZm9ybWF0dGVkRGF0YTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hZYWhvb0hpc3RvcmljYWxEYXRhKHN5bWJvbCkge1xuICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9xdWVyeTEuZmluYW5jZS55YWhvby5jb20vdjgvZmluYW5jZS9jaGFydC8ke3N5bWJvbH0/aW50ZXJ2YWw9MWQmcmFuZ2U9MXlgO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgY29uc3QgcmVzdWx0ID0gZGF0YT8uY2hhcnQ/LnJlc3VsdD8uWzBdO1xuICBpZiAoIXJlc3VsdCB8fCAhcmVzdWx0LnRpbWVzdGFtcCB8fCAhcmVzdWx0LmluZGljYXRvcnM/LnF1b3RlPy5bMF0/LmNsb3NlKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgY29uc3QgY2xvc2VzID0gcmVzdWx0LmluZGljYXRvcnMucXVvdGVbMF0uY2xvc2U7XG4gIGNvbnN0IGZvcm1hdHRlZERhdGEgPSB7fTtcbiAgcmVzdWx0LnRpbWVzdGFtcC5mb3JFYWNoKCh0cywgaWR4KSA9PiB7XG4gICAgY29uc3QgcHJpY2UgPSBjbG9zZXNbaWR4XTtcbiAgICBpZiAocHJpY2UgPT0gbnVsbCkgcmV0dXJuO1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0cyAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuICAgIGZvcm1hdHRlZERhdGFbZGF0ZV0gPSBwcmljZTtcbiAgfSk7XG4gIHJldHVybiBmb3JtYXR0ZWREYXRhO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRUYWl3YW5TdG9ja0hpc3RvcmljYWxEYXRhKHRpY2tlcikge1xuICBjb25zdCBiYXNlU3ltYm9sID0gdGlja2VyLmluY2x1ZGVzKFwiLlwiKSA/IHRpY2tlciA6IGAke3RpY2tlcn0uVFdgO1xuICBjb25zdCBmb3JtYXR0ZWREYXRhID0gYXdhaXQgZmV0Y2hZYWhvb0hpc3RvcmljYWxEYXRhKGJhc2VTeW1ib2wpO1xuICBpZiAoT2JqZWN0LmtleXMoZm9ybWF0dGVkRGF0YSkubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBmb3JtYXR0ZWREYXRhO1xuICB9XG4gIGlmICghdGlja2VyLmluY2x1ZGVzKFwiLlwiKSkge1xuICAgIGNvbnN0IG90Y0RhdGEgPSBhd2FpdCBmZXRjaFlhaG9vSGlzdG9yaWNhbERhdGEoYCR7dGlja2VyfS5UV09gKTtcbiAgICBpZiAoT2JqZWN0LmtleXMob3RjRGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIG90Y0RhdGE7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgaGlzdG9yaWNhbCBkYXRhIGZvciBUYWl3YW4gc3RvY2sgdGlja2VyOiAke3RpY2tlcn1gKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q3J5cHRvSGlzdG9yaWNhbERhdGEodGlja2VyKSB7XG4gIGNvbnN0IGNvaW5JZCA9IGF3YWl0IGdldENvaW5HZWNrb0lkKHRpY2tlcik7XG4gIGlmICghY29pbklkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBhIENvaW5HZWNrbyBJRCBmb3IgY3J5cHRvY3VycmVuY3kgdGlja2VyOiAke3RpY2tlcn1gKTtcbiAgfVxuXG4gIGNvbnN0IGFwaUtleVBhcmFtID0gQ09JTkdFQ0tPX0FQSV9LRVkgPyBgJnhfY2dfZGVtb19hcGlfa2V5PSR7Q09JTkdFQ0tPX0FQSV9LRVl9YCA6IFwiXCI7XG4gIGNvbnN0IHVybCA9IGBodHRwczovL2FwaS5jb2luZ2Vja28uY29tL2FwaS92My9jb2lucy8ke2NvaW5JZH0vbWFya2V0X2NoYXJ0P3ZzX2N1cnJlbmN5PXVzZCZkYXlzPTM2NSZpbnRlcnZhbD1kYWlseSR7YXBpS2V5UGFyYW19YDtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gIGlmICghZGF0YS5wcmljZXMpIHtcbiAgICBjb25zdCBlcnJvckRldGFpbHMgPSBkYXRhLnN0YXR1c1xuICAgICAgPyBgIChzdGF0dXM6ICR7ZGF0YS5zdGF0dXMuZXJyb3JfY29kZX0sIG1lc3NhZ2U6ICR7ZGF0YS5zdGF0dXMuZXJyb3JfbWVzc2FnZX0pYFxuICAgICAgOiBcIlwiO1xuICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgaGlzdG9yaWNhbCBkYXRhIGZvciBjcnlwdG8gdGlja2VyOiAke3RpY2tlcn0ke2Vycm9yRGV0YWlsc31gKTtcbiAgfVxuXG4gIGNvbnN0IGZvcm1hdHRlZERhdGEgPSB7fTtcbiAgZm9yIChjb25zdCBbdGltZXN0YW1wLCBwcmljZV0gb2YgZGF0YS5wcmljZXMpIHtcbiAgICBjb25zdCBkYXRlID0gZm9ybWF0KG5ldyBEYXRlKHRpbWVzdGFtcCksIFwieXl5eS1NTS1kZFwiKTtcbiAgICBmb3JtYXR0ZWREYXRhW2RhdGVdID0gcHJpY2U7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdHRlZERhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdCkge1xuICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIGNvbnN0IHRpY2tlciA9IHNlYXJjaFBhcmFtcy5nZXQoXCJ0aWNrZXJcIik7XG4gIGNvbnN0IHR5cGUgPSBzZWFyY2hQYXJhbXMuZ2V0KFwidHlwZVwiKTtcblxuICBpZiAoIXRpY2tlciB8fCAhdHlwZSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlRpY2tlciBhbmQgdHlwZSBhcmUgcmVxdWlyZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsZXQgZGF0YTtcbiAgICBpZiAodHlwZSA9PT0gXCJzdG9ja1wiKSB7XG4gICAgICBkYXRhID0gYXdhaXQgZ2V0VXNTdG9ja0hpc3RvcmljYWxEYXRhKHRpY2tlcik7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcInVzX3N0b2NrXCIpIHtcbiAgICAgIGRhdGEgPSBhd2FpdCBnZXRVc1N0b2NrSGlzdG9yaWNhbERhdGEodGlja2VyKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidHdfc3RvY2tcIikge1xuICAgICAgZGF0YSA9IGF3YWl0IGdldFRhaXdhblN0b2NrSGlzdG9yaWNhbERhdGEodGlja2VyKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiY3J5cHRvXCIpIHtcbiAgICAgIGRhdGEgPSBhd2FpdCBnZXRDcnlwdG9IaXN0b3JpY2FsRGF0YSh0aWNrZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJJbnZhbGlkIGFzc2V0IHR5cGVcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIGhpc3RvcmljYWwgZGF0YSBmb3IgJHt0aWNrZXJ9OmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkZhaWxlZCB0byBmZXRjaCBoaXN0b3JpY2FsIGRhdGFcIiwgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZm9ybWF0IiwiQUxQSEFfVkFOVEFHRV9BUElfS0VZIiwicHJvY2VzcyIsImVudiIsIkNPSU5HRUNLT19BUElfS0VZIiwiY29pbkxpc3RDYWNoZSIsImNvaW5MaXN0Q2FjaGVUaW1lc3RhbXAiLCJDT0lOX0dFQ0tPX0lEX09WRVJSSURFUyIsIkJUQyIsIkVUSCIsIkJOQiIsImdldENvaW5HZWNrb0lkIiwidGlja2VyIiwib3ZlcnJpZGUiLCJ0b1VwcGVyQ2FzZSIsIm5vdyIsIkRhdGUiLCJhcGlLZXlQYXJhbSIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImNvaW4iLCJmaW5kIiwiYyIsInN5bWJvbCIsInRvTG93ZXJDYXNlIiwiaWQiLCJnZXRVc1N0b2NrSGlzdG9yaWNhbERhdGEiLCJ1cmwiLCJkYXRhIiwidGltZVNlcmllcyIsImZvcm1hdHRlZERhdGEiLCJkYXRlIiwicGFyc2VGbG9hdCIsImZldGNoWWFob29IaXN0b3JpY2FsRGF0YSIsInJlc3VsdCIsImNoYXJ0IiwidGltZXN0YW1wIiwiaW5kaWNhdG9ycyIsInF1b3RlIiwiY2xvc2UiLCJjbG9zZXMiLCJmb3JFYWNoIiwidHMiLCJpZHgiLCJwcmljZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJnZXRUYWl3YW5TdG9ja0hpc3RvcmljYWxEYXRhIiwiYmFzZVN5bWJvbCIsImluY2x1ZGVzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsIm90Y0RhdGEiLCJnZXRDcnlwdG9IaXN0b3JpY2FsRGF0YSIsImNvaW5JZCIsInByaWNlcyIsImVycm9yRGV0YWlscyIsInN0YXR1cyIsImVycm9yX2NvZGUiLCJlcnJvcl9tZXNzYWdlIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsImdldCIsInR5cGUiLCJtZXNzYWdlIiwiZGV0YWlscyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/historical-data/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/date-fns"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhistorical-data%2Froute&page=%2Fapi%2Fhistorical-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhistorical-data%2Froute.js&appDir=%2FUsers%2Fjfm4air%2FDesktop%2Fmy-timer%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjfm4air%2FDesktop%2Fmy-timer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();